---
layout: post
title: [7ê¸°]ìš°í…Œì½” í”„ë¦¬ì½”ìŠ¤ ì½”ë“œ ë¦¬íŒ©í† ë§
subtitle: <javascript> 2ì£¼ì°¨ racingCar
excerpt_image: https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Ff71cbdcd-b763-41af-9bbb-42abdb18bd6a%2F9a492b46-973c-4d63-af79-b948e97b2391%2F%25E1%2584%258B%25E1%2585%25AE%25E1%2584%258B%25E1%2585%25A1%25E1%2584%2592%25E1%2585%25A1%25E1%2586%25AB%25E1%2584%2590%25E1%2585%25A6%25E1%2584%258F%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25A9%25E1%2584%2589%25E1%2585%25B3-2025-%25E1%2584%2589%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%258B%25E1%2585%25B5%25E1%2586%25B8%25E1%2584%2589%25E1%2585%25A2%25E1%2586%25BC-%25E1%2584%2586%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25B5%25E1%2586%25B8-%25E1%2584%2591%25E1%2585%25A9%25E1%2584%2589%25E1%2585%25B3%25E1%2584%2590%25E1%2585%25A5_outline.png&blockId=8e79f541-d498-4c2a-9e85-2f60c433a990
categories: Study
tags: [woowacourse,ìš°í…Œì½”]
---
# I. ë‚˜ì˜ ì½”ë“œ

https://github.com/Yubeenpark/javascript-racingcar-7

ì‚¬ì‹¤ 3ì£¼ì°¨ê¹Œì§€ ë¬´ë‚œí–ˆì§€ë§Œ 4ì£¼ì°¨ì— í­ê²©ì„ ë§ì•„ ë§ì´.. í˜ë“¤ì—ˆë‹¤. 

ì™œëƒí•˜ë©´ ê°ì²´ì§€í–¥ìŠ¤ëŸ½ê²Œ ì½”ë“œë¥¼ ì§œë³¸ ì ì´ ë§ì´ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.

ê·¸ì € ì½”ë”© í…ŒìŠ¤íŠ¸ í†µê³¼ë¥¼ ìœ„í•˜ì—¬ íš¨ìœ¨ì  ì´ê±°ë‚˜ ì•Œê³ ë¦¬ì¦˜ì„ ë§ì´ ì‚¬ìš©í–ˆê¸°ì— ë”ë”ìš± ì–´ìƒ‰í–ˆë‹¤. ì§€ê¸ˆì€ ìµœì¢… ì½”í…Œë¥¼ ëŒ€ë¹„í•˜ë©´ì„œ ë‚´ê°€ ì¼ë˜ ì½”ë“œë¥¼ ë‹¤ì‹œ ì˜ˆì˜ê²Œ ë°”ê¿”ë³´ë ¤ê³  í•œë‹¤. 

ì°¸ê³ ë¡œ ì›ë³¸ì€ ì—¬ê¸°ë‹¤. 

https://github.com/woowacourse-precourse/javascript-racingcar-7

## ê°ì²´ ì§€í–¥ (Object-Oriented Programming, OOP)

ì •ë¦¬í•˜ë©´ 1. ê³µí†µ íŠ¹ì„±ì„ ë¬¶ì! 2. ì†ì„± ê°’(ë³€ìˆ˜)ê³¼ í–‰ìœ„(í•¨ìˆ˜)ë¥¼ ë¬¶ì–´ë³´ì.  ì´ê²Œ ê°€ì¥ í° íŠ¹ì§•ì¸ ê²ƒ ê°™ë‹¤. 

- ë„ì„œ ê´€ë¦¬ë„ ë°˜ë‚©í•˜ê¸°, ëŒ€ì¶œí•˜ê¸°ë¥¼ í˜ì´ì§€ ìˆ˜, ì œëª©ê³¼ ê°™ì€ ìë£Œí˜• í•„ë“œì™€ ê°™ì´ ë¬¶ì–´ì„œ ê´€ë¦¬ ê°€ëŠ¥í•˜ë‹¤.
    - í•¨ìˆ˜ ì½”ë“œë¥¼ ë°˜ë³µí•´ì„œ ì•ˆì¨ë„ ë˜ë‹ˆ ì¤‘ë³µ ì½”ë“œë„ ì¤„ì–´ë“¤ê³ , ë…ë¦½ì„±ë„ ì„œë¡œ ìƒê¸°ê³  ì¢‹ë‹¤.

 ë˜í•œ ì´ì™€ ë°˜ëŒ€ë˜ëŠ” ê°œë…ì¸ ì ˆì°¨ ì§€í–¥ì„ ìƒê°í•´ë³´ë©´ ë” ì´í•´ê°€ ë¹ ë¥´ë‹¤. ì ˆì°¨ ì§€í–¥ì€ ê±´ì¶•ê³¼ ë¹„ìŠ·í•´ì„œ `ì™„ë²½`í•œ ì„¤ê³„, ìˆœì„œë¥¼ ì§€ì¼œì•¼ í•˜ëŠ”ë° ì½”ë“œëŠ” 99í¼ì„¼íŠ¸ë¡œ ìˆ˜ì •, ì¶”ê°€, ì‚­ì œ ë“± ì¤‘ê°„ì— ë¦¬í„°ì¹˜ê°€ ë§ì´ë§ì´ ë“¤ì–´ê°„ë‹¤. 
ë”°ë¼ì„œ ì™„ë²½í•œ ì„¤ê³„ëŠ” ì²¨ë¶€í„° ë¶ˆ.ê°€.ëŠ¥!

ìœ ëª…í•œ íŠ¹ì§•ë¶€í„° ê°™ì´ ë´ë³´ì. 

### 1. ì¶”ìƒí™”(**ê³µí†µ íŠ¹ì§•** ì¶”ì¶œ)

 ex) ìë™ì°¨, ì˜¤í† ë°”ì´- ì¶”ìƒí™”ëŠ” ì´ë™ ìˆ˜ë‹¨

### 2. ìº¡ìŠí™”(ê°ì²´ ë‚´ë¶€ êµ¬í˜„ì„ ì™¸ë¶€ë¡œë¶€í„° **ê°ì¶”ê¸°**, **private ì‚¬ìš©**, ì†ì„±(ë³€ìˆ˜), í–‰ìœ„(í•¨ìˆ˜)ë¥¼ ë¬¶ëŠ” ê³¼ì •)

### 3. ìƒì†(ë¶€ëª¨ ê¸°ëŠ¥ ë¬¼ë ¤ë°›ê³  ìˆ˜ì •í•˜ì—¬ ì‚¬ìš©. ê³µí†µ íŠ¹ì„±ì„ ë¶€ê°ì‹œì¼œ í•˜ë‚˜ì˜ ê°œë…ìœ¼ë¡œ ì„±ë¦½, ìì‹ê³¼ ë¶€ëª¨, ê¸°ì¡´ í´ë˜ìŠ¤ ì¬ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ì‘ì„±.

<aside>
ğŸ’¡

í•¨ìˆ˜ ì¤‘ë³µ, ê¸°ëŠ¥ ì¤‘ë³µì´ ì™œ ë³„ë¡œì¼ê¹Œ?

ë§Œì•½ ê¸°ëŠ¥ì„ ì‚´ì§ ë°”ê¾¸ê±°ë‚˜ ì¶”ê°€í•´ì•¼í•  ë•Œ, ê·¸ ëª¨ë“  ì½”ë“œì— ë‹¤ ë³µë¶™í•´ì•¼í•œë‹¤â€¦ì˜¤ ì´ëŸ°..

**ì ˆì°¨ì§€í–¥, ê±´ë¬¼ ìŒ“ê¸° ê°™ì´ ë°”ë€Œì§€ ì•ŠëŠ” ë‹¤ëŠ” ê°€ì •ì´ ì•„ë‹Œ, ì½”ë“œëŠ” ìˆ˜ì •ì„ ë°˜ë³µí•˜ëŠ” ê°ì²´ ì§€í–¥â€¦ 

</aside>

### **ë‹¤í˜•ì„±**(**ìˆ˜ì •ê³¼ ì¶”ê°€**, ë§¥ë½ì— ë”°ë¼ ë‹¤ë¥¸ ì—­í• ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒ)

- ì˜¤ë²„ë¼ì´ë”©(ride): ë©”ì†Œë“œì™€ ê°™ì€ ì´ë¦„, ë°°ê°œë³€ìˆ˜ë¥¼ ì¬ ì •ì˜ (ë®ì–´ì•¼ í•˜ë¯€ë¡œ ë‹¤ ê°™ì•„ì•¼í•¨)
- ì˜¤ë²„ë¡œë”©(load): ì´ë¦„ ê°™ì§€ë§Œ ì „ë‹¬ì¸ìê°€ ë‹¤ë¥´ë‹¤.  ê°™ì€ ì´ë¦„ í•¨ìˆ˜ë¥¼ ì—¬ëŸ¬ ê°œ ì •ì˜ í›„, ë§¤ê°œë³€ìˆ˜ íƒ€ì…, ê°œìˆ˜ë¥¼ ë‹¤ë¥´ê²Œ í•´ì„œ ë§¤ê°œë³€ìˆ˜ ë”°ë¼ í˜¸ì¶œí•˜ëŠ” ê²ƒ. (ê·¸ëƒ¥ ì´ë¦„ë§Œ ë¶ˆëŸ¬ì˜´)

# II. í”„ë¦¬ì½”ìŠ¤ ì´í›„ ë‚˜ë¦„ OOPì™€ RSPë¥¼ ì§€í‚¤ë©° ë¦¬íŒ©í† ë§

## 1) UI ë¡œì§, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë‚˜ëˆ„ê¸°.

### UI ë¡œì§ (InputValue, OutputValue)

UIëŠ” InputValueì™€ OutputValueë¡œ ë‚˜ëˆ´ë‹¤. 

Inputì€ InputMessageë¥¼ í•„ë“œë¡œ ê°–ê³  ìˆìœ¼ë©°,  ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì´ˆê¸°í™”í•œë‹¤.

Outputì€ static ë©”ì†Œë“œë¥¼ ê°€ì§€ê³  ìˆê³ , ë§¤ê°œë³€ìˆ˜ë¡œ ì¶œë ¥í•  ê°’ì„ ì „ë‹¬í•˜ë©´ ëœë‹¤.

```jsx
import { MissionUtils } from "@woowacourse/mission-utils";
const { Console } = MissionUtils;

export class InputValue {
  inputMessage;
  constructor(inputMessage) {
    this.inputMessage = inputMessage;
  }

  async getUserInput() {
    return await Console.readLineAsync(this.inputMessage);
  }
}
export class OutputValue {
  static printOutput(outputMessage) {
    Console.print(outputMessage);
  }
}
```

### ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§(RacingGame, Car)

 ê° ì°¨ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” Car classì™€ ê²Œì„ì„ ê´€ë¦¬í•˜ëŠ” RacingGame classë¥¼ ë§Œë“¤ì—ˆë‹¤.

### a. Car class

ì°¨ ì´ë¦„ì„ ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì „í•´ì¤˜ì„œ ìƒì„±í•œë‹¤.

 ê° ì°¨ì˜ ì´ë™ ê±°ë¦¬ë¥¼ ë‹´ê¸° ìœ„í•œ distanceë„ ê°€ì§€ê³  ìˆë‹¤. ê° ì°¨ê°€ ì´ë¦„, distance ê°ì ê°–ê³  ìˆê¸° ë•Œë¬¸ì— classë¡œ ê´€ë¦¬í•´ì¤˜ì•¼ í•œë‹¤ê³  ìƒê°í–ˆê¸° ë•Œë¬¸ì´ë‹¤.

 ë˜í•œ, Carì˜ í•„ë“œë¥¼ ë‹¤ë¥¸ ê³³ì— ì‰½ê²Œ ë„˜ê²¨ì£¼ë©´ ì•ˆë˜ê¸°ì— ì¶œë ¥ì„ ìœ„í•œ getDriverë§Œ ë¹¼ê³  distanceì™€ ê°™ì€ ê²½ìš°, ë‹¤ë¥¸ Carì™€ ë¹„êµí•˜ëŠ” ë©”ì†Œë“œë¥¼ í†µí•´ ìµœëŒ“ê°’ì„ ì•Œì•„ë‚¼ ìˆ˜ ìˆë„ë¡ êµ¬í˜„í–ˆë‹¤. 

```jsx
export class Car {
  #driver;
  #distance;

  constructor(driver) {
    this.#validate(driver);
    this.#driver = driver;
    this.#distance = 0;
  }

  getDriver() {
    return `${this.#driver}`;
  }

  #validate(driver) {
    if (driver.length > 5) {
      throw new Error("[ERROR] ìë™ì°¨ ì´ë¦„ì€ 5ì ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.");
    }
    if (driver === "") {
      throw new Error("[ERROR] ìë™ì°¨ ì´ë¦„ì´ ì—†ìŠµë‹ˆë‹¤.");
    }
  }
  moveForwardShowPositions(canMove) {
    this.moveForward(canMove);
    this.viewPosition();
  }
  moveForward(canMove) {
    if (canMove) {
      this.#distance++;
    }
  }

  compareDifferenceDistance(otherCar) {
    return this.#distance - otherCar.#distance;
  }
  isSameDistance(otherCar) {
    return this.#distance === otherCar.#distance;
  }
  viewPosition() {
    const view = this.#driver + " : " + "-".repeat(this.#distance);
    OutputValue.printOutput(view);
  }
}

```

### b. RacingGame

 ê²Œì„ì— ì°¸ê°€í•˜ëŠ” carë“¤ì˜ ì´ë¦„ë“¤ê³¼ ê²Œì„ íšŸìˆ˜ë¥¼ ê°€ì§€ê³  ìˆë‹¤.

  ì—¬ê¸°ì„œ racingGameì´ í•œë²ˆ ë” ì‹¤í–‰ë˜ì—ˆì„ ë•Œ ì¶”ê°€ ì‹¤í–‰ì´ ê°€ëŠ¥í•˜ë„ë¡ ìƒì„±ìê°€ ì•„ë‹Œ setGameRound()ë¡œ ì´ˆê¸°í™”í•˜ë„ë¡ í–ˆë‹¤. ë˜í•œ ì…ë ¥ ê°’ì— ê´€í•œ `ìœ íš¨ì„± ê²€ì‚¬`ë„ racingGameê³¼ Carë‚´ì—ì„œ ì§„í–‰í•˜ë„ë¡ í–ˆë‹¤. ì™œëƒí•˜ë©´ UIë¡œì§ì€ ë‹¨ìˆœíˆ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ëŠ” ê³³ì´ë¯€ë¡œ ìœ íš¨ì„± ê²€ì‚¬ëŠ” `ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§`ì—ì„œ ë‹¤ë¤„ì•¼ í•œë‹¤ê³  ìƒê°í–ˆê¸° ë•Œë¬¸ì´ë‹¤. 

 ì´ˆë°˜ì—ëŠ” RacingGameì—ì„œ inputì˜ ë©”ì†Œë“œ ì¡°ì°¨ ë¶ˆëŸ¬ì˜¤ë©´ ì•ˆëœë‹¤ê³  ìƒê°í–ˆì—ˆë‹¤. ê·¸ê²Œ ë¶„ë¦¬ë¼ê³  ìƒê°í–ˆì§€ë§Œ, ì‹¤ì œ ê¸°ëŠ¥ì„ ì¤‘ì ìœ¼ë¡œ ë³´ë©´ Inputì—ì„œ ë‹´ë‹¹í•˜ê³  ìˆê¸°ì— RacingGame ë‚´ì—ì„œ input classë¥¼ í†µí•´ ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì€ ë’¤, ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ì§„í–‰í•˜ë„ë¡ ë³€ê²½í–ˆë‹¤. ë˜í•œ, ì˜¬ë°”ë¥¸ ê°’ì´ ì…ë ¥ë  ë•Œ ê¹Œì§€ ë°˜ë³µí•˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤. 

```jsx

export class RacingGame {
  #cars;
  #round;

  async setGameCars() {
    const input = new InputValue(
      "ê²½ì£¼í•  ìë™ì°¨ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.(ì´ë¦„ì€ ì‰¼í‘œ(,) ê¸°ì¤€ìœ¼ë¡œ êµ¬ë¶„)"
    );
    const cars = await this.getInputCheckValidation(input, this.validateCars);
    this.#cars = cars.map((car) => new Car(car));
    return;
  }

  async setGameRound() {
    const input = new InputValue("ì‹œë„í•  íšŸìˆ˜ëŠ” ëª‡ íšŒì¸ê°€ìš”?");
    const gameRound = await this.getInputCheckValidation(
      input,
      this.validateRound
    );
    this.#round = gameRound;
    return;
  }
  async getInputCheckValidation(inputInstance, validator) {
    while (true) {
      try {
        const inputValue = await inputInstance.getUserInput();
        const validateInputValue = validator(inputValue);
        return validateInputValue;
      } catch (e) {
        OutputValue.printOutput(e.message);
      }
    }
  }
  validateCars(userInput) {
    const splitName = userInput.split(",");
    if (!userInput) {
      throw new Error("[ERROR] ì…ë ¥ê°’ì´ ì—†ìŠµë‹ˆë‹¤.");
    }
    if (userInput.replace(",", "").trim().length === 0) {
      throw new Error("[ERROR] ìë™ì°¨ ì´ë¦„ì€ ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    }
    return splitName;
  }

  validateRound(round) {
    const roundNumber = Number(round);
    if (Number.isNaN(roundNumber)) {
      throw new Error("[ERROR] ìˆ«ìë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
    }
    if (roundNumber <= 0) {
      throw new Error("[ERROR] 0 ì´í•˜ì˜ ìˆ«ìëŠ” ì…ë ¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    }
    return roundNumber;
  }

  async startGame() {
    for (let i = 0; i < this.#round; i++) {
      this.#cars.forEach((car) => {
        const random = Random.pickNumberInRange(0, 9);
        const canMove = this.canMove(random);
        car.moveForwardShowPositions(canMove);
      });
      OutputValue.printOutput("");
    }
    this.showWinnersName();
    return;
  }

  showWinnersName() {
    const farDistance = this.findMaxPositions();
    const winnersCars = this.#cars.filter((car) =>
      car.isSameDistance(farDistance)
    );
    const winners = this.nameOfWinners(winnersCars);

    OutputValue.printOutput(`ìµœì¢… ìš°ìŠ¹ì: ${winners}`);
  }

  canMove(number) {
    if (number >= 4) {
      return true;
    }
  }
  nameOfWinners(cars) {
    let names = [];
    if (cars.length === 0) {
      return cars.getDriver();
    }
    for (let car of cars) {
      names.push(car.getDriver());
    }
    return names.join(", ");
  }

  findMaxPositions() {
    if (this.#cars.length === 0) {
      throw new Error("ì°¨ëŸ‰ ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì—ˆìŠµë‹ˆë‹¤.");
    }
    this.#cars.sort((a, b) => b.compareDifferenceDistance(a));
    return this.#cars.reduce((maxCarPosition, currentCarPosition) => {
      if (
        currentCarPosition.compareDifferenceDistance(currentCarPosition) > 0
      ) {
        return currentCarPosition;
      }
      return maxCarPosition;
    });
  }
}

```

## 2) ì‹¤í–‰

ê°„ë‹¨í•˜ê²Œ ì‹¤í–‰í•  ë•ŒëŠ” racing Gameì„ importí•´ì„œ ë©”ì†Œë“œë¥¼ ê°„ë‹¨íˆ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í–ˆë‹¤! ë­”ê°€ ìº¡ìŠí™”ë¥¼ ì´ì „ ì½”ë“œì™€ ë‹¬ë¦¬ êµ¬í˜„í•´ë‚¸ ê²ƒ ê°™ì•„ ë¿Œë“¯í•˜ë‹¤ ğŸ˜‰

```jsx
class App {
  async run() {
    const game = new RacingGame();
    await game.setGameCars();
    await game.setGameRound();
    game.startGame();
  }
}

```

# III. ëŠë‚€ì 

OOPì™€ RSPì— ëŒ€í•´ ì´ê²ƒì €ê²ƒ ì°¾ì•„ë³´ê³ , ì´í•´í•˜ê¸° ìœ„í•´ ë¸”ë¡œê·¸ì— ì˜ˆì‹œë¡œ ë‚˜ì˜¨ ì½”ë“œë„ ë‹¤ì‹œ ë°”ê¿”ë³´ê³  í•´ë´¤ë‹¤. ì‰½ì§„ ì•Šì•˜ì§€ë§Œ ë¬´ì²™ ë¿Œë“¯í•˜ê³  ì™„ì„±í•˜ê³  ë‚˜ë‹ˆ ì¬ë°Œë‹¤! êº„ë¥µ